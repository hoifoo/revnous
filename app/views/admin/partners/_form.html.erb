<%= form_with(model: [:admin, partner], local: true, class: "space-y-6") do |form| %>
  <% if partner.errors.any? %>
    <div class="bg-red-50 border-l-4 border-red-500 p-4">
      <h3 class="text-red-800 font-medium mb-2"><%= pluralize(partner.errors.count, "error") %> prohibited this partner from being saved:</h3>
      <ul class="list-disc list-inside text-red-700">
        <% partner.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :name, "Partner Name", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.text_field :name, class: "w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-pink-500 focus:border-pink-500", placeholder: "Enter partner name" %>
  </div>

  <div>
    <%= form.label :logo, "Logo", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <% if partner.logo.attached? %>
      <div class="mb-4">
        <%= image_tag partner.logo, class: "h-24 w-auto object-contain border border-gray-200 rounded p-2" %>
      </div>
    <% end %>
    <%= form.file_field :logo, class: "w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-pink-500 focus:border-pink-500", accept: "image/*" %>
    <p class="mt-1 text-sm text-gray-500">Upload partner logo (PNG, JPG, SVG recommended)</p>
  </div>

  <div>
    <%= form.label :website_url, "Website URL", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.url_field :website_url, class: "w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-pink-500 focus:border-pink-500", placeholder: "https://example.com" %>
  </div>

  <div>
    <%= form.label :description, "Description (Optional)", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.text_area :description, rows: 3, class: "w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-pink-500 focus:border-pink-500", placeholder: "Brief description of the partner" %>
  </div>

  <div>
    <%= form.label :position, "Display Order", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.number_field :position, class: "w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-pink-500 focus:border-pink-500", placeholder: "0" %>
    <p class="mt-1 text-sm text-gray-500">Lower numbers appear first</p>
  </div>

  <div class="flex items-center">
    <%= form.check_box :active, class: "h-4 w-4 text-pink-600 focus:ring-pink-500 border-gray-300 rounded" %>
    <%= form.label :active, "Active (Show on website)", class: "ml-2 block text-sm text-gray-900" %>
  </div>

  <div>
    <%= form.label :product_ids, "Associated Products", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.collection_check_boxes :product_ids, Product.ordered, :id, :name do |b| %>
      <div class="flex items-center mb-2">
        <%= b.check_box class: "h-4 w-4 text-pink-600 focus:ring-pink-500 border-gray-300 rounded" %>
        <%= b.label class: "ml-2 text-sm text-gray-600" %>
      </div>
    <% end %>
    <p class="text-sm text-gray-500 mt-1">Select products this partner is associated with</p>
  </div>

  <div class="flex items-center gap-4">
    <%= form.submit class: "px-6 py-2 bg-pink-600 text-white rounded-md hover:bg-pink-700 transition font-medium cursor-pointer" %>
    <%= link_to "Cancel", admin_partners_path, class: "px-6 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition font-medium" %>
  </div>
<% end %>
