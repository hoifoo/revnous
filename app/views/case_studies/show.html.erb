<%= render "shared/notice_banner" %>

<!-- Hero Section -->
<div class="bg-white py-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="mb-4">
      <span class="text-sm font-semibold text-gray-600 uppercase tracking-wide">CASE STUDY</span>
    </div>
    <h1 class="text-5xl font-bold text-gray-900 mb-12"><%= @case_study.name %></h1>

    <!-- Stats Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16">
      <div class="bg-gradient-to-br from-pink-50 to-white p-8 rounded-lg border border-pink-100">
        <div class="flex items-start justify-between mb-4">
          <h3 class="text-5xl font-bold text-pink-600"><%= @case_study.conversion_rate %></h3>
        </div>
        <p class="text-gray-700 font-medium">Conversion rate increase</p>
      </div>

      <div class="bg-gradient-to-br from-pink-50 to-white p-8 rounded-lg border border-pink-100">
        <div class="flex items-start justify-between mb-4">
          <h3 class="text-5xl font-bold text-pink-600"><%= @case_study.revenue_increase %></h3>
        </div>
        <p class="text-gray-700 font-medium">Revenue growth</p>
      </div>

      <div class="bg-gradient-to-br from-pink-50 to-white p-8 rounded-lg border border-pink-100">
        <div class="flex items-start justify-between mb-4">
          <h3 class="text-5xl font-bold text-pink-600"><%= @case_study.product_features %></h3>
        </div>
        <p class="text-gray-700 font-medium">Strategy implemented</p>
      </div>
    </div>
  </div>
</div>

<!-- Main Content -->
<div class="bg-gray-50 py-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-12">
      <!-- Sidebar Navigation -->
      <div class="lg:col-span-1">
        <div class="sticky top-8">
          <nav class="space-y-2">
            <a href="#overview" class="block px-4 py-2 text-gray-900 font-medium hover:bg-white rounded-md transition">Overview</a>
            <a href="#challenge" class="block px-4 py-2 text-gray-700 hover:bg-white hover:text-gray-900 rounded-md transition">Challenge</a>
            <a href="#solution" class="block px-4 py-2 text-gray-700 hover:bg-white hover:text-gray-900 rounded-md transition">Solution</a>
            <a href="#results" class="block px-4 py-2 text-gray-700 hover:bg-white hover:text-gray-900 rounded-md transition">Results</a>
          </nav>

          <!-- CTA Card -->
          <div class="mt-8 bg-black text-white p-6 rounded-lg">
            <h3 class="text-xl font-bold mb-2">Boost your sales by over 30%</h3>
            <p class="text-gray-300 text-sm mb-4">Join thousands of brands using Revnous to maximize revenue.</p>
            <a href="<%= pricing_path %>" class="inline-block w-full px-4 py-2 bg-pink-600 text-white text-center rounded-md hover:bg-pink-700 transition font-medium">
              Get Started
            </a>
          </div>
        </div>
      </div>

      <!-- Main Content Area -->
      <div class="lg:col-span-3">
        <!-- Overview Section -->
        <section id="overview" class="mb-16 bg-white p-8 rounded-lg">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">Overview</h2>
          <p class="text-lg text-gray-700 leading-relaxed"><%= @case_study.description %></p>
        </section>

        <!-- Challenge Section -->
        <section id="challenge" class="mb-16 bg-white p-8 rounded-lg">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">Challenge</h2>
          <p class="text-lg text-gray-700 leading-relaxed mb-8"><%= @case_study.challenge %></p>

          <!-- Quote -->
          <div class="bg-pink-50 border-l-4 border-pink-600 p-6 my-8">
            <svg class="w-8 h-8 text-pink-600 mb-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
            </svg>
            <p class="text-xl font-medium text-gray-900 italic">"We needed something seamless but powerful."</p>
          </div>
        </section>

        <!-- Solution Section -->
        <section id="solution" class="mb-16 bg-white p-8 rounded-lg">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">Solution</h2>
          <p class="text-lg text-gray-700 leading-relaxed mb-8"><%= @case_study.solution %></p>

          <!-- Quote -->
          <div class="bg-pink-50 border-l-4 border-pink-600 p-6 my-8">
            <svg class="w-8 h-8 text-pink-600 mb-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
            </svg>
            <p class="text-xl font-medium text-gray-900 italic">"Revnous became one of the most effective tools in our growth stack."</p>
          </div>

          <!-- Quote -->
          <div class="bg-pink-50 border-l-4 border-pink-600 p-6 my-8">
            <svg class="w-8 h-8 text-pink-600 mb-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
            </svg>
            <p class="text-xl font-medium text-gray-900 italic">"The A/B testing tools have been game-changing. We're constantly testing and learning, and Revnous guides us through every step."</p>
          </div>
        </section>

        <!-- Results Section -->
        <section id="results" class="mb-16 bg-white p-8 rounded-lg">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">Results</h2>
          <p class="text-lg text-gray-700 leading-relaxed mb-6"><%= @case_study.results %></p>

          <!-- Results List -->
          <div class="bg-gray-50 p-6 rounded-lg mb-8">
            <ul class="space-y-3">
              <li class="flex items-start">
                <svg class="w-6 h-6 text-pink-600 mr-3 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                </svg>
                <span class="text-gray-700"><%= @case_study.conversion_rate %> increase in conversion rate</span>
              </li>
              <li class="flex items-start">
                <svg class="w-6 h-6 text-pink-600 mr-3 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                </svg>
                <span class="text-gray-700"><%= @case_study.revenue_increase %> revenue growth</span>
              </li>
              <li class="flex items-start">
                <svg class="w-6 h-6 text-pink-600 mr-3 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                </svg>
                <span class="text-gray-700">Improved customer retention and brand loyalty</span>
              </li>
            </ul>
          </div>

          <!-- Quote -->
          <div class="bg-pink-50 border-l-4 border-pink-600 p-6 my-8">
            <svg class="w-8 h-8 text-pink-600 mb-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
            </svg>
            <p class="text-xl font-medium text-gray-900 italic">"We were surprised how many customers actually engaged with the post-purchase content. It's driving retention and brand loyalty, not just upsells."</p>
          </div>
        </section>

        <!-- The Long Game Section -->
        <section class="mb-16 bg-white p-8 rounded-lg">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">The long game with Revnous</h2>
          <p class="text-lg text-gray-700 leading-relaxed mb-6">
            <%= @case_study.name %> continues to see sustained growth with Revnous. Their strategic approach to <%= @case_study.product_features.downcase %> has created a solid foundation for long-term success.
          </p>

          <!-- Quote -->
          <div class="bg-pink-50 border-l-4 border-pink-600 p-6 my-8">
            <svg class="w-8 h-8 text-pink-600 mb-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
            </svg>
            <p class="text-xl font-medium text-gray-900 italic">"Revnous's roadmap never stalls. They're always building, testing, improving."</p>
          </div>
        </section>
      </div>
    </div>
  </div>
</div>

<!-- Related Case Studies -->
<div class="bg-white py-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-3xl font-bold text-gray-900 mb-8">You may also like</h2>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <% @related_case_studies.each do |related_case_study| %>
        <div class="bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition group">
          <div class="aspect-[4/3] bg-gray-100 overflow-hidden">
            <% if related_case_study.image.attached? %>
              <%= image_tag related_case_study.image,
                  alt: related_case_study.name,
                  class: "w-full h-full object-cover group-hover:scale-105 transition duration-300"
              %>
            <% else %>
              <div class="w-full h-full flex items-center justify-center bg-gray-200">
                <span class="text-gray-400">No image</span>
              </div>
            <% end %>
          </div>
          <div class="p-6">
            <h3 class="text-xl font-semibold text-gray-900 mb-3"><%= related_case_study.name %></h3>
            <%= link_to case_study_path(related_case_study), class: "inline-flex items-center text-pink-600 font-medium hover:text-pink-700" do %>
              Read more
              <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
              </svg>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>

<!-- Bottom CTA -->
<div class="bg-gradient-to-br from-pink-600 to-purple-700 py-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <h2 class="text-4xl font-bold text-white mb-4">Already on Revnous?</h2>
    <p class="text-xl text-white mb-8">Start your free trial or get in touch with us to schedule a demo.</p>
    <div class="flex justify-center gap-4">
      <a href="<%= pricing_path %>" class="px-6 py-3 bg-black text-white rounded-md hover:bg-gray-900 transition font-medium">
        Get Started
      </a>
      <a href="<%= pricing_path %>" class="px-6 py-3 bg-white text-gray-900 rounded-md hover:bg-gray-100 transition font-medium">
        Try 30-Days Free
      </a>
    </div>
  </div>
</div>
