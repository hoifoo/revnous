<% if @pricing_plans.any? %>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-<%= [@pricing_plans.count, 4].min %> gap-6 mb-16">
    <% @pricing_plans.each do |plan| %>
      <div class="bg-white border-2 <%= plan.is_popular ? 'border-pink-600' : 'border-gray-200' %> rounded-lg p-6 <%= plan.is_popular ? '' : 'hover:border-pink-600' %> transition relative">
        <% if plan.is_popular %>
          <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 px-3 py-1 bg-pink-600 text-white text-xs font-semibold rounded-full">
            MOST POPULAR
          </div>
        <% end %>

        <div class="mb-4">
          <span class="text-xs font-semibold text-pink-600 uppercase tracking-wide"><%= plan.name %></span>
          <div class="mt-2">
            <% if plan.free_plan? %>
              <span class="text-4xl font-bold text-gray-900">Free</span>
            <% else %>
              <span class="text-4xl font-bold text-gray-900">$<%= plan.price %></span>
              <span class="text-gray-600">/<%= plan.billing_period %></span>
            <% end %>
          </div>
          <% if plan.order_limit.present? %>
            <p class="text-sm text-gray-600 mt-2">for <%= plan.order_limit %></p>
          <% else %>
            <p class="text-sm text-gray-600 mt-2">unlimited total store orders per month</p>
          <% end %>
        </div>

        <% if plan.cta_url.present? %>
          <a href="<%= plan.cta_url %>" target="_blank" class="block w-full px-4 py-2 <%= plan.is_popular ? 'bg-pink-600 hover:bg-pink-700' : 'bg-black hover:bg-gray-800' %> text-white rounded-md transition font-medium mb-6 text-center">
            <%= plan.cta_text || 'Try Now for Free' %>
          </a>
        <% end %>

        <% if plan.trial_text.present? %>
          <p class="text-xs text-gray-500 mb-4"><%= plan.trial_text %></p>
        <% end %>

        <% if plan.description.present? %>
          <p class="text-xs text-gray-600 mb-4"><%= plan.description %></p>
        <% end %>

        <ul class="space-y-3">
          <% plan.features_list.each do |feature| %>
            <li class="flex items-start">
              <svg class="w-5 h-5 text-pink-600 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
              </svg>
              <span class="text-sm text-gray-700"><%= feature %></span>
            </li>
          <% end %>
        </ul>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="text-center py-12">
    <p class="text-gray-500">No pricing plans available at the moment.</p>
  </div>
<% end %>
